%fieldset
  %legend
    = defined?(contact_title) ? contact_title : 'Personne de contact'
  = form.fields_for :contact, object.contact.present? ? object.contact : object.build_contact  do |contact_form|
    .form-group
      %label.col-sm-2.control-label Nom
      .col-sm-10
        = contact_form.text_field :lastname, class: 'form-control'
    .form-group
      %label.col-sm-2.control-label Prénom
      .col-sm-10
        = contact_form.text_field :firstname, class: 'form-control'
    .form-group
      %label.col-sm-2.control-label Numéro de téléphone
      .col-sm-10
        = contact_form.telephone_field :phone_number, class: 'form-control'

    - if object.class.name == 'Profile'
      = contact_form.hidden_field :email, value: 'hello@world.net'
    -else
      .form-group
        %label.col-sm-2.control-label Email
        .col-sm-10
          = contact_form.email_field :email, class: 'form-control'

      %br
    %fieldset
      %legend
        = defined?(coordinate_title) ? coordinate_title : 'Coordonnées de la personne de contact'
      = contact_form.fields_for :coordinate, object.contact.coordinate.present? ? object.contact.coordinate : object.contact.build_coordinate  do |coordinate_form|
        .form-group
          %label.col-sm-2.control-label Rue et numéro
          .col-sm-10
            = coordinate_form.text_field :street, class: 'form-control'
        .form-group
          %label.col-sm-2.control-label Code postal
          .col-sm-10
            = coordinate_form.text_field :zip_code, class: 'form-control'
        .form-group
          %label.col-sm-2.control-label Ville
          .col-sm-10
            = coordinate_form.text_field :city, class: 'form-control'
        .form-group
          %label.col-sm-2.control-label Pays
          .col-sm-10
            = coordinate_form.text_field :country, class: 'form-control'
