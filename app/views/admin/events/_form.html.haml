.wrapper.wrapper-content.animated.fadeInRight
  .row
    .col-lg-12
      .ibox.float-e-margins
        .ibox-title
          %h5
            Veuillez remplir toutes les informations concernant votre évènement
        .ibox-content
          = form_for [:admin, @event], validate: true, html: {class: 'form-horizontal'} do |event_form|
            %fieldset
              %legend Informations
              .form-group
                %label.col-sm-2.control-label Date de début
                .col-sm-10
                  = event_form.datetime_select :start_date, { :order => [:day, :month, :year] , :use_month_numbers => true }, { class: 'form-control' }
                %br

              .form-group
                %label.col-sm-2.control-label Date de fin
                .col-sm-10
                  = event_form.datetime_select :end_date, { :order => [:day, :month, :year] , :use_month_numbers => true }, { class: 'form-control' }
                %br

              .form-group
                %label.col-sm-2.control-label Clôture des inscriptions
                .col-sm-10
                  = event_form.datetime_select :registration_deadline, { :order => [:day, :month, :year] , :use_month_numbers => true }, { class: 'form-control' }
                %br

              .form-group
                %label.col-sm-2.control-label Minimum participants
                .col-sm-10
                  = event_form.text_field :min_participant, class: 'form-control'
                %br

              .form-group
                %label.col-sm-2.control-label Maximum participants
                .col-sm-10
                  = event_form.text_field :max_participant, class: 'form-control'
                %br

              .form-group
                %label.col-sm-2.control-label Prix (en €)
                .col-sm-10
                  = event_form.text_field :price, class: 'form-control'
                %br

            %fieldset
              %legend Lieu
              .form-group
                %label.col-sm-2.control-label Lieu
                .col-sm-10
                  = event_form.select :location_id, options_for_select(Location.order(:name).map{|l|[l.name, l.id]}, @event.location_id), {:class => "form-control select"}

            %fieldset
              %legend Activités
              = event_form.fields_for :event_activity_equipment, @event.event_activity_equipment.present? ? @event.event_activity_equipment : @event.event_activity_equipment.build, dynamic: true do |ev_ac_eq_form|
                .form-group
                  %label.col-sm-2.control-label Activité
                  .col-sm-2
                    = ev_ac_eq_form.select :activity_id, options_for_select(Activity.all.map{|a|[a.name, a.id]}), {:class => "form-control select"}
                  %label.col-sm-1.control-label Quantité
                  .col-sm-2
                    = ev_ac_eq_form.text_field :quantity, {style: 'max-width: 220px'}
                  .col-sm-1
                    = ev_ac_eq_form.remove_fields_link 'Supprimer'

              = event_form.add_fields_link :event_activity_equipment, 'Ajouter une activité'

            %br
            = render partial: 'shared/contact_form', locals: { form: event_form, object: @event }


            .form-group
              .col-sm-4
                %button.btn.btn-primary{:type => 'submit'} Sauver l'évènement
