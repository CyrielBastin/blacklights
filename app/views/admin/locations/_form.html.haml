.wrapper.wrapper-content.animated.fadeInRight
  .row
    .col-lg-12
      .ibox.float-e-margins
        .ibox-title
          %h5
            Veuillez remplir toutes les informations concernant votre lieu
        .ibox-content
          = form_for [:admin, @location], validate: true, html: {class: 'form-horizontal'} do |location_form|
            %fieldset
              %legend Informations
              .form-group
                %label.col-sm-2.control-label Nom
                .col-sm-10
                  = location_form.text_field :name, class: 'form-control'
                %br

              .form-group
                %label.col-sm-2.control-label Type
                .col-sm-10
                  = location_form.text_field :type, class: 'form-control'
                %br

              .form-group
                %label.col-sm-2.control-label Capacité maximale
                .col-sm-10
                  = location_form.number_field :capacity, class: 'form-control'
                %br
              .form-group
                %label.col-sm-2.control-label Rue et numéro
                .col-sm-10
                  = location_form.text_field :street, class: 'form-control'
                %br
              .form-group
                %label.col-sm-2.control-label Code postal
                .col-sm-10
                  = location_form.text_field :zip_code, class: 'form-control'
                %br
              .form-group
                %label.col-sm-2.control-label Ville
                .col-sm-10
                  = location_form.text_field :city, class: 'form-control'
                %br
              .form-group
                %label.col-sm-2.control-label Pays
                .col-sm-10
                  = location_form.text_field :country, class: 'form-control'
                %br

            %fieldset
              %legend Activités disponibles
              .form-group
                .search-container
                  .search-input
                    %label.control-label Activité
                    %input.form-control{id: 'search-input-Activity', 'data-model': 'Activity', 'data-multiple': 'true', type: 'text', placeholder: 'Chercher par nom'}
                  = location_form.hidden_field :location_activity_ids, id: 'list-Activity_ids'
                  .search-results
                    - Activity.all.each do |a|
                      %p.result-item.result-item-Activity.hidden{id: "Activity-#{a[:id]}"}
                        = a[:name]
                  .search-chosen#search-chosen-Activity
                    - if @location.location_activities.present?
                      - @location.location_activities.each do |loc_ac|
                        .item-selected{id: "for-Activity-#{loc_ac.activity[:id]}"}
                          %i.fas.fa-ban.delete-selected{style: 'color: red'}
                          %div
                            = loc_ac.activity[:name]

            %br
            %fieldset
              %legend Dimensions
              = location_form.fields_for :dimension, @location.dimension.present? ? @location.dimension : @location.build_dimension  do |dimension_form|
                .form-group
                  %label.col-sm-2.control-label Largeur (en m)
                  .col-sm-10
                    = dimension_form.text_field :width, class: 'form-control'
                .form-group
                  %label.col-sm-2.control-label Longueur (en m)
                  .col-sm-10
                    = dimension_form.text_field :length, class: 'form-control'
                .form-group
                  %label.col-sm-2.control-label Hauteur (en m)
                  .col-sm-10
                    = dimension_form.text_field :height, class: 'form-control'
                .form-group
                  .col-sm-10
                    = dimension_form.text_field :weight, class: 'form-control', style: 'display: none', value: 0.01

            %br
            = render partial: 'shared/contact_form', locals: { form: location_form, object: @location }

            .form-group
              .col-sm-4
                %button.btn.btn-primary{:type => 'submit'} Sauver le lieu
